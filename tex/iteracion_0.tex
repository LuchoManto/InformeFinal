\chapter{Iteración 0: Orden de las iteraciones} % (fold)
\label{cha:iteracion_0}

\section{Introducción} % (fold)
\label{it0:sec:introduccion}

El desarrollo de las iteraciones sigue un determinado orden. Este orden proviene directamente de la dependencia que existe entre los requerimientos del sistema. En caso de haber requerimientos independientes entre si, se elige por el de mayor riesgo. El riesgo de cada requerimiento esta determinado por la dependencia existente entre cada uno. El cuadro \ref{tab:riesgoderequerimientos} enumera los requerimientos y les asocia un riesgo estimado, calculado según estas dependencias. El orden de las iteraciones fue dado según esta tabla.

\begin{table}[ht]
\centering
\caption{Riesgo de los requerimientos funcionales}
\label{tab:riesgoderequerimientos}
\begin{center}
\centering
%\begin{tabular}{|m{0.5cm}|m{9cm}|m{1.5cm}|m{1.5cm}|}
\begin{tabular}{|p{0.3cm}|p{6cm}|p{1.5cm}|p{1.5cm}|}
\hline
\cellcolor[HTML]{68CBD0}ID & \cellcolor[HTML]{68CBD0}Descripción & \cellcolor[HTML]{68CBD0}Prioridad & \cellcolor[HTML]{68CBD0}Impacto  \\
\hline
1 &  Se deberían poder recibir datos de hasta 8 sensores analógicos en modo singular o equilibrado & 1 & ALTO  \\
\hline
2 &  Se debería poder configurar, mediante una interfaz de usuario, cada canal analógico por separado para medir en modo diferencial, modo canal único, o no medir. & 2 & ALTO  \\
\hline
3 &  Se deberían poder contar eventos de hasta 4 señales externas. & 1 & ALTO  \\
\hline
4 &   Se debería poder configurar una ganancia especifica para el conversor analógico digital mediante una interfaz de usuario. & 1 & ALTO  \\
\hline
5 &  Se debería poder configurar un tiempo entre mediciones especifico para cada entrada mediante una interfaz de usuario. & 3 & MEDIO \\
\hline
6 &   El canal de comunicación entre la plataforma y el sistema embebido o controlador debería ser serial  & 2 & ALTO \\
\hline
7 &  La plataforma debería poder controlar y obtener mediciones del sensor de campo electrostático & 4 & BAJO  \\
\hline
8 &  Se debería diseñar un caso de uso de sistema embebido que trabaje junto con la plataforma & 5 & BAJO  \\
\hline
\end{tabular}
\end{center}
\end{table}

% queremos indicar el orden de las iteraciones. no necesariamente tienen cualquier orden. Las iteraciones vienen directo de los requerimientos. Los requerimientos dependen a veces unos de otros, y eso determina el orden. Cuando no dependen uno de otro, se decide cual hacer primero segun el riesgo del requerimiento. Ponele, que el sistema cuente eventos y convierta de analogico a digital es de riesgo alto porque es clave. No se puede hacer nada si no se decide primero que micro usar,, y asi y asi.

% section introduccion (end)

\section{Determinación del orden} % (fold)
\label{it0:sec:determinacion_del_orden}

% -iteracion 1
% que es lo que hizo que eligieramos la primera iteracion como la primera? los parametros del microcontrolador nos ajustaban de todos lados. osea los parametros del microcontrolador eran escenciales. aquellos que eran criticos hacian depender a todos los demas. asi que lo primero que habia que hacer era conformar una tabla con una serie de microcontroladores candidatos, y optar aquel que mejor cumpla con los requerimientos de mayor riesgo, y si es posible con los otros requerimientos que dependian de los primeros.
\subsection{Iteración 1} % (fold)
\label{sub:iteracion_1}

Los parámetros del microcontrolador son esenciales porque condicionan a todo el sistema. En la primera iteración, nos dedicamos a la investigación de aquellos microcontroladores que mejor se ajustaban a las necesidades impuestas por los requerimientos. Conformamos una tabla para una mejor interpretación de las diferencias y ventajas entre cada uno. La decisión final se tomó a partir del análisis de dicha tabla.

% subsection iteracion_1 (end)

% -iteracion 2:
% elegido ya el microcontrolador. que habia que hacer? lo primero y principal es aprender a usar las FUNCIONALIDADES PRINCIPALES del micro. necesitabamos una placa de desarrollo que tenga el microcontrolador y probar sus funcionalidades. particularmente aquellas que estaban ligadas a los requerimientos principales. si alguna de las funcionalidades no andaba bien, o alguna de las pruebas no daba los resultados esperados, podia ser posible hasta tener que cambiar el microcontrolador. Osea que habiendo uno ya selecto, lo primero a hacer fue comprarlo y realizar pruebas hasta comprobar que las funcionalidades del micro anden como era esperado.

\subsection{Iteración 2} % (fold)
\label{sub:iteracion_2}

El microcontrolador seleccionado fue elegido debido a sus funcionalidades, principalmente aquellas que prometían cumplir con los requerimientos de mayor riesgo. Si las funcionalidades principales no se desempeñan bien o no responden óptimamente, podría ser necesaria la reelección del microcontrolador. La segunda iteración consistirá en conformar un primer prototipo de software. El objetivo principal de este prototipo es comprobar que los requerimientos principales son posibles de cumplir, y asegurar, también, la selección del microcontrolador.

% subsection iteracion_2 (end)

% -iteracion 3:
% que sigue despues de tener un microcontrolador elegido y puesto a prueba segun los requerimientos? comenzar a diseñar e implementar el HARDWARE DE LA plataforma DE INSTRUMENTACION. Todo el hardware esta ligado al microcontrolador por lo que claramente no podia hacerse antes. El diseño se hizo basandonos en la placa de desarrollo donde hicimos las pruebas en la iteracion 2, teniendo el cuidado de no incluir aquellas partes de la placa que no eran necesarias en la plataforma de instrumentacion.
\subsection{Iteración 3} % (fold)
\label{sub:iteracion_3}

Las iteraciones anteriores fueron dedicadas a la verificación de la selección del microcontrolador. Sin esta verificación, no es posible diseñar el hardware, ya que el mismo microcontrolador condiciona los componentes dentro del circuito.

En la tercera iteración, se dará lugar a uno de los requerimientos principales del proyecto: La construcción en PCB de la plataforma de instrumentación. La placa de desarrollo utilizada para realizar las pruebas en la iteración 2, servirá como base para diseñar e implementar el hardware de la plataforma.
% subsection iteracion_3 (end)



% -iteracion 4:
% idea principal: terminar un primer prototipo de la plataforma de instrumentacion. para eso necesitabamos mejoras en el software. para que? para cumplir con la mayor cantidad de requerimientos posibles del lado del software. y tener la placa con el software listo.
\subsection{Iteración 4} % (fold)
\label{sub:iteracion_4}

El prototipo de software diseñado en la iteración 2 es básico, y verifica que los requerimientos principales de la plataforma puedan ser cumplidos con el microcontrolador seleccionado. Pero aun no esta terminado un prototipo que cumpla con los objetivos y requerimientos principales. En la quinta iteración daremos un cierre al software del sistema. Serán desarrolladas todas las funcionalidades planificadas, basadas en los requerimientos; y conformaremos un primer prototipo completo de software.

% subsection iteracion_4 (end)

% -iteracion 5:
% que tenemos hasta el momento? un software que testeaba el sistema para sus requerimientos de mayor riesgo y un diseño terminado con una implementacion que no andaba de la plataforma de instrumentacion. la IMPLEMENTACION no andaba, osea que habia que hacerlo andar. en la iteracion 4 seguimos con la implementacion de la placa, corrigiendo errores de diseño, hasta que anduvo. Ademas, una vez que salio andando, se rediseño la placa para duplicar los parametros.
\subsection{Iteración 5} % (fold)
\label{sub:iteracion_5}

%En la cuarta iteración, continuaremos trabajando en el diseño y construcción de la plataforma de instrumentación en PCB, refinando los resultados de las pruebas de la iteración anterior. Se corregirán los posibles errores tanto de diseño como en la misma construcción de la placa, hasta tener un prototipo que responda como es necesario.
En la quinta iteración, nos dedicaremos a analizar e implementar distintas mejoras en diseño del hardware de la plataforma. En particular, la posibilidad de aumentar la cantidad de recursos, colocando dos microcontroladores en lugar de uno solo.

% subsection iteracion_5 (end)

% -iteracion 6:
% teniendo una plataforma de instrumentacion lista, y el sistema de gestion andando, falta hacer una prueba de campo con un sensor de verdad y poner a prueba el sistema. nos propusieron usar el sensor de campo electrostatico para probarlo.
% otro parrafo: ademas de usarlo para probar el sistema como plataforma de instrumentacion + sistema de gestion, en esta it diseñamos una adaptacion al sensor para su correcto funcionamiento, usando funcionalidades del microcontrolador de la plataforma de instrumentacion.
\subsection{Iteración 6} % (fold)
\label{sub:iteracion_6}

Al final de la iteración 5, el sistema estará diseñado y con un prototipo terminado. Esta iteración será dedicada al desarrollo de una prueba de campo utilizando el sensor de campo electrostático mencionado en los objetivos. 

El objetivo principal es poner a prueba el sistema con un sensor real, comprobando y verificando las funcionalidades de la plataforma de instrumentación.


% subsection iteracion_6 (end)

% -iteracion 7:
% hasta el momento ya obtuvimos un prototipo de la plataforma de instrumentacion. lo que hay que hacer ahora es usarla. falta diseñarle un prototipo de sistema de gestion para que no tenga que estar siempre conectada a la pc. enctonces la idea de esta iteracion es tener un prototipo de sistema de gestion que haga de receptor para la telemetria de la plataforma de instrumentacion. para dejar de usar la computadora como receptor directo y comenzar a manejarla de una manera mas remota.
\subsection{Iteración 7} % (fold)
\label{sub:iteracion_7}

El objetivo principal de esta iteración es obtener un sistema inteligente de detección de campo electrostático, utilizando la plataforma de instrumentación, el sensor de campo electrostático, y una placa de desarrollo con un sistema operativo embebido. La función de la placa de desarrollo es la de controlar y recibir la telemetría de la plataforma. 

Obtener un producto terminado utilizando la plataforma es un aspecto clave porque se pone a prueba todo el sistema. Además, implica tener que desarrollar un sistema de gestión básico dentro de una placa de desarrollo que controle la plataforma. Esta iteración sera dedicada a la construcción de este sistema y, si es posible, utilizaremos como base a otros proyectos en desarrollo dentro del laboratorio.



% subsection iteracion_7 (end)

% section análisis_de_requermientos_y_riesgos (end)


% Como se puede ver en la tabla PONER RIESGO DE REQUERIMIENTOS, los requerimientos de mayor riesgo son la conversión, el conteo de eventos, y la ganancia. Esto se explica porque que el objetivo principal propuesto por nuestro director era el de implementar una placa genérica para la obtension de datos de sensores analógico y contar eventos digitales, el resto era secundario. \\

% Aunque estos requerimientos mencionados anteriormente sean de mayor riesgo, dependen de que microcontrolador seleccionemos. Es por esto que la primera iteracion la dedicamos a la investigación y selección de un microcontrolador. \\

% Teniendo un microcontrolador elegido, decidimos comprobar que al menos lo escencial funcionara correctamente. Esto es: comprobar que funcione el conversor, la ganancia programable, y el conteo de eventos. La segunda iteracion la dedicamos a la experimentación con el microcontrolador elegido en su placa de desarrollo, y la conformacion de un primer prototipo de programa que cumpla con los requerimientos de mayor riesgo. En el desarrollo de esta iteracion y las pruebas de sistema, surgieron cuestiones que provocaron cambios en los requerimientos, pero que no comprometieron la eleccion del microcontrolador.  \\

% Llegados a esta instancia, teniamos un prototipo de software que cumplia con los requerimientos de mayor riesgo. En la tercera iteración diseñamos y construimos una placa de desarrollo que cumplia con los requisitos para nuestro sistema. Las mismas pruebas de la segunda iteración se realizaron junto con las pruebas de la tercera, nos quedó así un prototipo de sistema que cumplía con los requerimientos de mayor riesgo. \\

% Al final de la tercera iteracion, en lo que respecta a la plataforma de instrumentacion, teniamos un sistema que cumplía con los requerimientos mínimos. Lo siguiente a realizar fue pasar del prototipo al sistema final. Las iteraciones 4 y 5 las destinamos a finalizar las implementaciones de hardware y sofware. En la iteración 4 volvimos a realizar el hardware, rediseñando ciertos aspectos y duplicando los recursos debido a los cambios en los requerimientos. Y en la iteracion 5 continuamos con el desarrollo del software, dandole ya las funcionalidades suficientes para cubrir los requerimientos vinculados al programa. \\

% En este punto, teníamos ya lo principal del proyecto: Una plataforma de instrumentacion implementada en una PCB, con 16 entradas analogicas con ganancia programable, y 4 contadores de eventos. El resto de las iteraciones fueron casos de prueba y mejoras al sistema. 
% La iteracion 6 fue dedicada al desarrollo de un programa dentro de una placa Raspberry Pi que gestione la plataforma de instrumentacion hecha.  \\

% En la última iteracion, el objetivo principal fue poner a prueba el sistema con un sensor de campo electrostático, y ademas acondicionar el sistema para con este sensor, teniendo un prototipo de producto, con la idea de hacerlo comerciable. Por cuestiones de tiempos, el sistema final quedó hecho para fines académicos.En la iteración 7 cubrimos el desarrollo de la adaptación del sistema realizado hasta el momento a este sensor. \\

% section determinacion_del_orden (end)

% poner a prube el sistema y ademas usar las funcionalidades del microcontrolador para el funcionamiento del sensor

% cuales son los primeros requerimientos que hay que cumplir?

% -hay que convertir señales de analogico a digital
% -hay que amplificar las señales convertidas
% -hay que contar eventos

% con eso solo tenes lo primero y principal. pero antes que eso, no hay nada mas?

% lo primero que hay que hacer es elegir el microcontrolador a usar, porque eso nos determina el funcionamiento del resto. Entonces la primera iteracion va a ser eso.

% Lo segundo que hay que hacer es asegurarse de que con el micro elegido se puedan hacer las tres cosas que se mencionaron recien, entonces la segunda iteracion se trata de experimentar y conformar un programa dentro del micro que haga lo basico y sacar conclusiones en base al desarrollo y las pruebas

% Una vez hecho esto ya se pueden hacer dos cosas: se puede seguir trabajando sobre el programa para tenerlo mas completo y que cumpla con todos los requerimientos principales mas los qeu hayan surgido en el desarrollo, o se puede arrancar con la implementacion del hardware de la placa de adquisicion. Pero ambos se pueden hacer en paralelo porque el software se puede probar en la placa de desarrollo. Es mas, es mejor tener el software ya bastante avanzado asi se puede probar mas facil que la placa nueva ande para lo que queremos que ande y no para otra cosa. Por el estado en que estaba el programa ya probaba lo escencial, asi que decidimos que la tercera iteracion iba a ser el desarrollo del hardware. Esta enconces fue la iteracion 3

% Terminado un prototipo de hardware con pruebas hechas, hicimos una iteracion mas. Las cosas que implementaba el programa eran suficientes para probar que la placa armada ande bien, asi que no se le dio bola por una iteracion mas y se siguio trabajando en el harware. Esta fue la iteracion 4

% Teniendo el hardware ya diseñado e implementado en una placa que ande, seguimos con el software, ya terminandolo y dejandolo listo para el uso en la placa nueva. Esta es la iteracion 5

% con eso ya estaba la placa de adquisicion que era lo principal del proyecto. Despues surgieron los anexos. El primero que surgio fue el del sensor y despues el de la raspberry. Ambos se pueden hacer en paralelo, pero siendo el sensor un caso de prueba, se deja para el final. Primero se desarrolla un prototipo de gestionador de dispositivos IOT para tener algo ya mas completo y configurable y bonito. esta entonces es la iteracion 6

% La 7ma y ultima iteracion es el caso de prueba con el sensor. Al ser un caso de prueba, va al ultimo


% chapter iteracion_0 (end)